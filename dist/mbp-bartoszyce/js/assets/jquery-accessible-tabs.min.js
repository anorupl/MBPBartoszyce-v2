jQuery(document).ready(function(t){var a=window.location.hash.replace("#",""),e=t(".js-tabs"),i=t("body");if(e.length){if(e.find(".js-tablist").each(function(){var a=t(this),e=a.data(),i=void 0!==e.tabsPrefixClass?e.tabsPrefixClass+"-":"",l=void 0!==e.hx?e.hx:"",s=void 0!==e.existingHx?e.existingHx:"",r=a.children(".js-tablist__item"),n=a.find(".js-tablist__link");a.attr("role","tablist"),r.attr("role","presentation"),n.attr("role","tab"),a.addClass(i+"tabs__list"),r.addClass(i+"tabs__item"),n.addClass(i+"tabs__link"),n.each(function(){var a=t(this),i=void 0!==e.tabsGeneratedHxClass?e.tabsGeneratedHxClass:"invisible",r=a.attr("href"),n=t(r),d=a.text();""!==l&&n.prepend("<"+l+' class="'+i+'" tabindex="0">'+d+"</"+l+">"),""!==s&&n.find(s+":first-child").attr("tabindex",0),void 0!==r&&""!==r&&"#"!==r&&a.attr({"aria-controls":r.replace("#",""),tabindex:-1,"aria-selected":"false"}),a.removeAttr("href")})}),t(".js-tabcontent").attr({role:"tabpanel","aria-hidden":"true"}).each(function(){var a=t(this),e=a.attr("id"),i=t("#label_"+e).closest(".js-tablist").attr("data-tabs-prefix-class"),l=void 0!==i?i+"-":"";a.attr("aria-labelledby","label_"+e),a.addClass(l+"tabs__content")}),""!==a&&0!==t("#"+a+".js-tabcontent").length&&t("#label_"+a+".js-tablist__link:not([aria-disabled='true'])").length&&(t("#"+a+".js-tabcontent").removeAttr("aria-hidden"),t("#label_"+a+".js-tablist__link").attr({"aria-selected":"true",tabindex:0})),""!==a&&t("#"+a).parents(".js-tabcontent").length){var l=t("#"+a),s=l.parents(".js-tabcontent"),r=s.attr("id");t("#label_"+r+".js-tablist__link:not([aria-disabled='true'])").length&&(s.removeAttr("aria-hidden"),t("#label_"+r+".js-tablist__link").attr({"aria-selected":"true",tabindex:0}))}e.each(function(){var a=t(this),e=a.find('.js-tablist__link[aria-selected="true"]'),i=a.find('.js-tablist__link[data-selected="1"]:not([aria-disabled="true"]):first'),l=t("#"+i.attr("aria-controls"));0===e.length&&0!==i.length&&(i.attr({"aria-selected":"true",tabindex:0}),l.removeAttr("aria-hidden"))}),e.each(function(){var a=t(this),e=a.find('.js-tablist__link[aria-selected="true"]'),i=a.find('.js-tablist__link:not([aria-disabled="true"]):first'),l=t("#"+i.attr("aria-controls"));0===e.length&&(i.attr({"aria-selected":"true",tabindex:0}),l.removeAttr("aria-hidden"))}),i.on("click",".js-tablist__link[aria-disabled='true']",function(){return!1}),i.on("click",".js-tablist__link:not([aria-disabled='true'])",function(a){var e=t(this),i=e.attr("aria-controls"),l=t("#"+e.attr("aria-controls")),s=e.closest(".js-tabs"),r=s.data(),n=void 0!==r.tabsDisableFragment,d=s.find(".js-tablist__link"),c=s.find(".js-tabcontent");d.attr({tabindex:-1,"aria-selected":"false"}),e.attr({"aria-selected":"true",tabindex:0}),c.attr("aria-hidden","true"),l.removeAttr("aria-hidden"),!1===n&&setTimeout(function(){history.pushState(null,null,location.pathname+location.search+"#"+i)},1e3),a.preventDefault()}).on("keydown",".js-tablist",function(a){var e=t(this).closest(".js-tabs"),i=e.find('.js-tablist__link[aria-selected="true"]').parent(),l=e.find(".js-tablist__item:last-child .js-tablist__link"),s=e.find(".js-tablist__item:first-child .js-tablist__link"),r=!1,n=i,d=i;do{n=n.is(".js-tablist__item:first-child")?l.parent():n.prev()}while("true"===n.children(".js-tablist__link").attr("aria-disabled")&&n!==i);do{d=d.is(".js-tablist__item:last-child")?s.parent():d.next()}while("true"===d.children(".js-tablist__link").attr("aria-disabled")&&d!==i);t(document.activeElement).is(e.find(".js-tablist__link"))&&(r=!0),r&&!a.ctrlKey&&(37==a.keyCode||38==a.keyCode?(n.children(".js-tablist__link").click().focus(),a.preventDefault()):40==a.keyCode||39==a.keyCode?(d.children(".js-tablist__link").click().focus(),a.preventDefault()):36==a.keyCode?(s.click().focus(),a.preventDefault()):35==a.keyCode&&(l.click().focus(),a.preventDefault()))}).on("keydown",".js-tabcontent",function(a){var e=t(this),i=e.attr("aria-labelledby"),l=t("#"+i),s=l.parent(),r=s.parent(),n=r.find(".js-tablist__item:first-child"),d=r.find(".js-tablist__item:last-child"),c=s,o=s;if(37!=a.keyCode&&38!=a.keyCode||!a.ctrlKey||(l.focus(),a.preventDefault()),33==a.keyCode&&a.ctrlKey){do{c=c.is(".js-tablist__item:first-child")?d:c.prev()}while("true"===c.children(".js-tablist__link").attr("aria-disabled")&&c!==s);c.children(".js-tablist__link").click().focus(),a.preventDefault()}if(34==a.keyCode&&a.ctrlKey){l.focus();do{o=o.is(".js-tablist__item:last-child")?n:o.next()}while("true"===o.children(".js-tablist__link").attr("aria-disabled")&&o!==s);o.children(".js-tablist__link").click().focus(),a.preventDefault()}}).on("click",".js-link-to-tab",function(){var a=t(this),e=t(a.attr("href")),i=t("#"+e.attr("aria-labelledby"));"true"!==i.attr("aria-disabled")&&(i.click(),setTimeout(function(){i.focus()},10))})}});